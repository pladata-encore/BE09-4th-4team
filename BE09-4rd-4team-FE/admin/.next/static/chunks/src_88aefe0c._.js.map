{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/yudaeun/dev/BE09-4rd-4team/BE09-4rd-4team-FE/admin/src/components/NewCouponModal.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from 'react';\n\nexport default function NewCouponModal({ onAdd, onClose }) {\n  const [name, setName] = useState('');\n  const [discount, setDiscount] = useState('');\n  const [validUntil, setValidUntil] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!validUntil) {\n      alert(\"Ïú†Ìö®Í∏∞Í∞ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.\");\n      return;\n    }\n\n    try {\n      const validUntilISO = `${validUntil}T00:00:00`; // üí• Ï§ëÏöî: LocalDateTime ÌòïÏãùÏúºÎ°ú ÎßûÏ∂îÍ∏∞\n\n      const couponData = {\n        name,\n        discount: Number(discount),\n        validUntil: validUntilISO, // ‚Üê Ïó¨Í∏∞ ÏàòÏ†ïÎê®\n        userId: null,\n      };\n\n      await onAdd(couponData);\n    } catch (error) {\n      console.error(\"‚ùå Ïø†Ìè∞ Îì±Î°ù Ïã§Ìå®:\", error);\n    }\n  };\n\n  return (\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30\">\n        <div className=\"w-full max-w-sm p-6 bg-white rounded-lg shadow-md\">\n          <h2 className=\"mb-4 text-xl font-bold\">Ïã†Í∑ú Ïø†Ìè∞ Îì±Î°ù</h2>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <input\n                type=\"text\"\n                placeholder=\"Ïø†Ìè∞Î™Ö\"\n                value={name}\n                onChange={e => setName(e.target.value)}\n                className=\"w-full p-2 border rounded\"\n                required\n            />\n            <input\n                type=\"number\"\n                placeholder=\"Ìï†Ïù∏Ïú®(%)\"\n                value={discount}\n                onChange={e => setDiscount(e.target.value)}\n                className=\"w-full p-2 border rounded\"\n                required\n            />\n            <input\n                type=\"date\"\n                value={validUntil}\n                onChange={e => setValidUntil(e.target.value)}\n                className=\"w-full p-2 border rounded\"\n                required\n            />\n            <div className=\"flex justify-end space-x-2\">\n              <button type=\"button\" onClick={onClose} className=\"px-4 py-2 border rounded\">\n                Ï∑®ÏÜå\n              </button>\n              <button type=\"submit\" className=\"px-4 py-2 bg-[#9BCC47] text-white rounded\">\n                Îì±Î°ù\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;;;AADA;;AAGe,SAAS,eAAe,EAAE,KAAK,EAAE,OAAO,EAAE;;IACvD,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE7C,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,YAAY;YACf,MAAM;YACN;QACF;QAEA,IAAI;YACF,MAAM,gBAAgB,GAAG,WAAW,SAAS,CAAC,EAAE,gCAAgC;YAEhF,MAAM,aAAa;gBACjB;gBACA,UAAU,OAAO;gBACjB,YAAY;gBACZ,QAAQ;YACV;YAEA,MAAM,MAAM;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,eAAe;QAC/B;IACF;IAEA,qBACI,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAyB;;;;;;8BACvC,6LAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,6LAAC;4BACG,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAA,IAAK,QAAQ,EAAE,MAAM,CAAC,KAAK;4BACrC,WAAU;4BACV,QAAQ;;;;;;sCAEZ,6LAAC;4BACG,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAA,IAAK,YAAY,EAAE,MAAM,CAAC,KAAK;4BACzC,WAAU;4BACV,QAAQ;;;;;;sCAEZ,6LAAC;4BACG,MAAK;4BACL,OAAO;4BACP,UAAU,CAAA,IAAK,cAAc,EAAE,MAAM,CAAC,KAAK;4BAC3C,WAAU;4BACV,QAAQ;;;;;;sCAEZ,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAO,MAAK;oCAAS,SAAS;oCAAS,WAAU;8CAA2B;;;;;;8CAG7E,6LAAC;oCAAO,MAAK;oCAAS,WAAU;8CAA4C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ1F;GApEwB;KAAA","debugId":null}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///Users/yudaeun/dev/BE09-4rd-4team/BE09-4rd-4team-FE/admin/src/app/admin/coupons/page.jsx"],"sourcesContent":["'use client';\n\nimport React, { useState,useEffect } from 'react';\nimport axios from 'axios';\nimport NewCouponModal from '../../../components/NewCouponModal'; // ÏúÑÏπò ÌôïÏù∏ ÌïÑÏàò\nimport { PlusIcon, TrashIcon } from 'lucide-react';\n\n\n\nexport default function CouponsPage() {\n\n// ÎÇ†Ïßú Ìè¨Îß∑ Ìï®Ïàò Ï∂îÍ∞Ä\n  const formatDate = (datetime) => {\n    return new Date(datetime).toISOString().split('T')[0]; // \"2025-07-11\"\n  };\n\n  const [coupons, setCoupons] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n\n  const fetchCoupons = async () => {\n    try {\n      const token = localStorage.getItem(\"accessToken\");\n\n      const response = await axios.get('http://localhost:8080/api/admin/coupons', {\n        headers: {\n          Authorization: `Bearer ${token}`, // ‚úÖ Ïò¨Î∞îÎ•∏ ÌÖúÌîåÎ¶ø Î¨∏ÏûêÏó¥\n          \"Content-Type\": \"application/json\"\n        },\n      });\n\n      setCoupons(response.data.data)\n      } catch (error) {\n      console.error('‚ùå Ïø†Ìè∞ Î™©Î°ù Ï°∞Ìöå Ïã§Ìå®:', error);\n    }\n  };\n\n\n\n  useEffect(() => {\n    fetchCoupons();\n  }, []);\n\n  const handleAdd = async (couponData) => {\n    try {\n      console.log(\"üì¶ Î≥¥ÎÇº couponData:\", couponData); // ÌôïÏù∏Ïö©\n      const token = localStorage.getItem('accessToken');\n\n      await axios.post('http://localhost:8080/api/admin/coupons', couponData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      setShowModal(false);\n      fetchCoupons();\n    } catch (error) {\n      console.error('‚ùå Ïø†Ìè∞ Îì±Î°ù Ïã§Ìå®:', error);\n    }\n  };\n\n\n\n\n  const handleDelete = async (id) => {\n    try {\n      await axios.delete(`/api/coupons/${id}`);\n      fetchCoupons(); // ÏÇ≠Ï†ú ÌõÑ Î™©Î°ù Í∞±Ïã†\n    } catch (error) {\n      console.error('‚ùå Ïø†Ìè∞ ÏÇ≠Ï†ú Ïã§Ìå®:', error);\n    }\n  };\n\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-2xl font-bold\">Ïø†Ìè∞ Í¥ÄÎ¶¨</h1>\n        <button\n          onClick={() => setShowModal(true)}\n          className=\"bg-[#9BCC47] text-white px-4 py-2 rounded-md flex items-center\"\n        >\n          <PlusIcon size={16} className=\"mr-1\" />\n          Ïø†Ìè∞ Îì±Î°ù\n        </button>\n      </div>\n\n      <div className=\"bg-white border rounded shadow-sm\">\n        <table className=\"w-full\">\n          <thead>\n            <tr className=\"text-xs text-gray-500 uppercase bg-gray-50\">\n              <th className=\"px-4 py-2\">Ïø†Ìè∞Î™Ö</th>\n              <th className=\"px-4 py-2\">Ìï†Ïù∏Ïú®(%)</th>\n              <th className=\"px-4 py-2\">Ïú†Ìö®Í∏∞Í∞Ñ</th>\n              <th className=\"px-4 py-2\">Í¥ÄÎ¶¨</th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-gray-200\">\n            {coupons.map(c => (\n              <tr key={c.id}>\n                <td className=\"px-4 py-2\">{c.name}</td>\n                <td className=\"px-4 py-2\">{c.discount}</td>\n                <td className=\"px-4 py-2\">{formatDate(c.validUntil)}</td>\n                <td className=\"px-4 py-2\">\n                <button\n                    onClick={() => handleDelete(c.id)}\n                    className=\"text-red-600 hover:text-red-800\"\n                  >\n                    <TrashIcon size={18} />\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {showModal && (\n        <NewCouponModal onAdd={handleAdd} onClose={() => setShowModal(false)} />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA,gPAAiE,WAAW;AAC5E;AAAA;;;AALA;;;;;AASe,SAAS;;IAExB,cAAc;IACZ,MAAM,aAAa,CAAC;QAClB,OAAO,IAAI,KAAK,UAAU,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,eAAe;IACxE;IAEA,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,QAAQ,aAAa,OAAO,CAAC;YAEnC,MAAM,WAAW,MAAM,wIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,2CAA2C;gBAC1E,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;oBAChC,gBAAgB;gBAClB;YACF;YAEA,WAAW,SAAS,IAAI,CAAC,IAAI;QAC7B,EAAE,OAAO,OAAO;YAChB,QAAQ,KAAK,CAAC,kBAAkB;QAClC;IACF;IAIA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACR;QACF;gCAAG,EAAE;IAEL,MAAM,YAAY,OAAO;QACvB,IAAI;YACF,QAAQ,GAAG,CAAC,qBAAqB,aAAa,MAAM;YACpD,MAAM,QAAQ,aAAa,OAAO,CAAC;YAEnC,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,2CAA2C,YAAY;gBACtE,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;oBAChC,gBAAgB;gBAClB;YACF;YAEA,aAAa;YACb;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,eAAe;QAC/B;IACF;IAKA,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,IAAI;YACvC,gBAAgB,aAAa;QAC/B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,eAAe;QAC/B;IACF;IAGA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,6LAAC;wBACC,SAAS,IAAM,aAAa;wBAC5B,WAAU;;0CAEV,6LAAC,yMAAA,CAAA,WAAQ;gCAAC,MAAM;gCAAI,WAAU;;;;;;4BAAS;;;;;;;;;;;;;0BAK3C,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAM,WAAU;;sCACf,6LAAC;sCACC,cAAA,6LAAC;gCAAG,WAAU;;kDACZ,6LAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,6LAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,6LAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,6LAAC;wCAAG,WAAU;kDAAY;;;;;;;;;;;;;;;;;sCAG9B,6LAAC;4BAAM,WAAU;sCACd,QAAQ,GAAG,CAAC,CAAA,kBACX,6LAAC;;sDACC,6LAAC;4CAAG,WAAU;sDAAa,EAAE,IAAI;;;;;;sDACjC,6LAAC;4CAAG,WAAU;sDAAa,EAAE,QAAQ;;;;;;sDACrC,6LAAC;4CAAG,WAAU;sDAAa,WAAW,EAAE,UAAU;;;;;;sDAClD,6LAAC;4CAAG,WAAU;sDACd,cAAA,6LAAC;gDACG,SAAS,IAAM,aAAa,EAAE,EAAE;gDAChC,WAAU;0DAEV,cAAA,6LAAC,2MAAA,CAAA,YAAS;oDAAC,MAAM;;;;;;;;;;;;;;;;;mCATd,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;YAkBpB,2BACC,6LAAC,uIAAA,CAAA,UAAc;gBAAC,OAAO;gBAAW,SAAS,IAAM,aAAa;;;;;;;;;;;;AAItE;GAjHwB;KAAA","debugId":null}}]
}